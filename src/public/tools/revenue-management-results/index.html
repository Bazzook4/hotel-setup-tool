<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q2BPYRGZTM"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Q2BPYRGZTM');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Hotel Revenue Playbook - Dynamic Pricing Action Plan | OnlineHotelier Insights</title>
  <meta name="description" content="Your personalized hotel revenue playbook. Actionable steps for occupancy-based pricing, overbooking strategy, seasonal markups, and event calendar.">
  <meta name="keywords" content="hotel revenue results, dynamic pricing impact, RevPAR calculator, hotel room night increase, revenue optimization results">
  <link rel="canonical" href="https://insights.onlinehotelier.com/tools/revenue-management-results/">
  <meta property="og:title" content="Hotel Revenue Management Results">
  <meta property="og:description" content="Your personalized revenue management playbook with actionable recommendations.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://insights.onlinehotelier.com/tools/revenue-management-results/">
  <link rel="icon" type="image/png" href="/favicon.png">
  <meta name="google-adsense-account" content="ca-pub-6118286051054894">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6118286051054894" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/tools/js/calendar-data.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Avenir', 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #F8F8F4;
      color: #3E3D35;
      line-height: 1.6;
    }

    :root {
      --primary: #3E3D35;
      --secondary: #89826E;
      --accent: #89826E;
      --primary-light: rgba(62, 61, 53, 0.1);
      --secondary-light: rgba(137, 130, 110, 0.1);
      --accent-light: rgba(137, 130, 110, 0.2);
    }

    .header {
      background: #3E3D35;
      color: white;
      padding: 2rem;
      text-align: center;
    }
    .header h1 { font-size: 2rem; margin-bottom: 0.5rem; }
    .header p { opacity: 0.9; }

    .container {
      max-width: 1140px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }

    /* Site Navigation */
    .site-nav {
      background: #3E3D35;
      padding: 0 2rem;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .site-nav .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 64px;
    }
    .nav-logo {
      font-size: 1.3rem;
      font-weight: 700;
      color: #fff;
      text-decoration: none;
      letter-spacing: -0.02em;
    }
    .nav-logo span {
      color: #89826E;
      font-weight: 400;
    }
    .nav-links {
      display: flex;
      gap: 0.25rem;
      list-style: none;
      align-items: center;
    }
    .nav-links a {
      text-decoration: none;
      color: rgba(255,255,255,0.65);
      font-weight: 500;
      font-size: 0.9rem;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      transition: all 0.2s;
    }
    .nav-links a:hover,
    .nav-links a.active {
      color: #fff;
      background: rgba(255,255,255,0.08);
    }
    .nav-cta {
      background: rgba(137, 130, 110, 0.25) !important;
      color: #fff !important;
      border: 1px solid rgba(137, 130, 110, 0.4);
    }
    .nav-toggle {
      display: none;
      background: none;
      border: none;
      color: #fff;
      font-size: 1.5rem;
      cursor: pointer;
    }
    @media (max-width: 768px) {
      .nav-links {
        display: none;
        position: absolute;
        top: 64px;
        left: 0;
        right: 0;
        background: #3E3D35;
        flex-direction: column;
        padding: 1rem;
        gap: 0.25rem;
      }
      .nav-links.open { display: flex; }
      .nav-toggle { display: block; }
    }

    /* Results Header */
    .results-header {
      background: #3E3D35;
      color: white;
      padding: 1.5rem;
      border-radius: 12px;
      margin-bottom: 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .results-header h2 { margin: 0; font-size: 1.3rem; color: white; }
    .property-badge {
      background: rgba(255,255,255,0.2);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.9rem;
    }
    .btn-back {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 1px solid rgba(255,255,255,0.3);
      padding: 0.5rem 1rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.2s;
    }
    .btn-back:hover { background: rgba(255,255,255,0.3); }

    /* Summary Cards */
    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .summary-card {
      background: white;
      border-radius: 10px;
      padding: 1.25rem;
      text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }
    .summary-card .value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
    }
    .summary-card .label {
      font-size: 0.8rem;
      color: #666;
      margin-top: 0.25rem;
    }

    /* Action Cards */
    .action-card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.07);
      margin-bottom: 1.5rem;
      overflow: hidden;
    }
    .action-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.25rem 1.5rem;
      border-bottom: 2px solid #f0f0f0;
      cursor: pointer;
    }
    .action-card-header:hover { background: #fafbfc; }
    .action-card-title {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .action-card-title h3 {
      font-size: 1.1rem;
      color: #333;
      margin: 0;
    }
    .action-card-title .card-icon { font-size: 1.4rem; }
    .action-card-body {
      padding: 1.5rem;
    }
    .action-card-body.collapsed { display: none; }

    /* Status Toggle */
    .status-toggle {
      display: flex;
      gap: 0.5rem;
      flex-shrink: 0;
    }
    .status-btn {
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      cursor: pointer;
      border: 2px solid #e1e5eb;
      background: white;
      color: #666;
      transition: all 0.2s;
    }
    .status-btn.doing {
      border-color: var(--secondary);
      background: var(--secondary);
      color: white;
    }
    .status-btn.not-yet {
      border-color: var(--accent);
      background: var(--accent);
      color: white;
    }

    /* Action insight text */
    .action-insight {
      background: linear-gradient(135deg, var(--primary-light) 0%, var(--secondary-light) 100%);
      border-left: 4px solid var(--secondary);
      padding: 1rem 1.25rem;
      border-radius: 0 8px 8px 0;
      margin-bottom: 1.25rem;
      font-size: 0.9rem;
      color: #333;
    }
    .action-insight strong { color: var(--primary); }

    .action-nudge {
      background: var(--accent-light);
      border-left: 4px solid var(--accent);
      padding: 0.75rem 1rem;
      border-radius: 0 8px 8px 0;
      margin-top: 1rem;
      font-size: 0.85rem;
      color: #5a4a2a;
      display: none;
    }
    .action-nudge.show { display: block; }

    /* Tables */
    .data-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.85rem;
    }
    .data-table th, .data-table td {
      padding: 0.6rem 0.75rem;
      text-align: left;
      border-bottom: 1px solid #eee;
    }
    .data-table th {
      background: #f8f9fa;
      font-weight: 600;
      color: #555;
    }
    .data-table tr:hover { background: #fafbfc; }

    /* Badges */
    .badge {
      display: inline-block;
      padding: 0.2rem 0.6rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .badge-success { background: #d4edda; color: #155724; }
    .badge-warning { background: #fff3cd; color: #856404; }
    .badge-danger { background: #f8d7da; color: #721c24; }
    .badge-info { background: #e3f2fd; color: #1565c0; }

    .slab-badge {
      display: inline-block;
      padding: 0.2rem 0.6rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }
    .slab-1 { background: #e8f5e9; color: #2e7d32; }
    .slab-2 { background: #e3f2fd; color: #1565c0; }
    .slab-3 { background: #fff3e0; color: #ef6c00; }
    .slab-4 { background: #fce4ec; color: #c2185b; }
    .slab-5 { background: #f3e5f5; color: #7b1fa2; }

    /* Chart */
    .chart-container {
      position: relative;
      height: 280px;
      margin: 1rem 0;
    }

    /* Pool Viz */
    .pool-viz {
      display: flex;
      height: 40px;
      border-radius: 8px;
      overflow: hidden;
      margin: 1rem 0;
    }
    .pool-viz-segment {
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 0.8rem;
    }

    /* Demand Grid */
    .two-col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
    }
    @media (max-width: 900px) { .two-col { grid-template-columns: 1fr; } }

    .month-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.5rem;
    }
    .month-item {
      text-align: center;
      padding: 0.5rem;
      border-radius: 6px;
      font-size: 0.8rem;
      cursor: help;
    }
    .month-item.peak { background: #ffcdd2; color: #c62828; font-weight: 600; }
    .month-item.high { background: #fff3e0; color: #e65100; font-weight: 600; }
    .month-item.normal { background: #f5f5f5; color: #666; }
    .month-item.low { background: #e8f5e9; color: #2e7d32; }
    .month-item.very-low { background: #e0f2f1; color: #00695c; }
    .month-label { font-weight: 600; margin-bottom: 0.15rem; }
    .month-score { font-size: 0.65rem; opacity: 0.9; }

    .weekday-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.85rem;
    }
    .weekday-table th, .weekday-table td {
      padding: 0.5rem;
      text-align: left;
      border-bottom: 1px solid #f0f0f0;
    }
    .weekday-table th { font-weight: 600; color: #666; }
    .demand-peak { color: #d32f2f; font-weight: 600; }
    .demand-high { color: #e65100; font-weight: 600; }
    .demand-normal { color: #333; }
    .demand-low { color: #2e7d32; font-weight: 600; }
    .score-badge {
      display: inline-block;
      padding: 0.15rem 0.4rem;
      border-radius: 4px;
      font-size: 0.7rem;
      font-weight: 600;
      min-width: 30px;
      text-align: center;
    }
    .score-badge.peak { background: #ffcdd2; color: #c62828; }
    .score-badge.high { background: #fff3e0; color: #e65100; }
    .score-badge.normal { background: #f5f5f5; color: #666; }
    .score-badge.low { background: #e8f5e9; color: #2e7d32; }
    .score-badge.very-low { background: #e0f2f1; color: #00695c; }

    /* Time Suggestions */
    .suggestions-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.85rem;
    }
    .suggestions-table th {
      background: #f8f9fa;
      padding: 0.5rem 0.6rem;
      text-align: left;
      font-weight: 600;
      color: #555;
      border-bottom: 2px solid #e1e5eb;
    }
    .suggestions-table td {
      padding: 0.45rem 0.6rem;
      border-bottom: 1px solid #f0f0f0;
    }
    .suggestions-table tr:hover { background: #fafbfc; }
    .section-row td {
      background: #f0f4ff;
      padding: 0.35rem 0.6rem;
      font-weight: 600;
      color: var(--secondary);
      font-size: 0.8rem;
    }
    .effect-badge {
      display: inline-block;
      padding: 0.15rem 0.4rem;
      border-radius: 4px;
      font-weight: 600;
      font-size: 0.7rem;
    }
    .effect-badge.discount { background: #e8f5e9; color: #2e7d32; }
    .effect-badge.premium { background: #fff3e0; color: #e65100; }
    .price-cell {
      font-weight: 700;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.8rem;
    }
    .price-cell.discount { color: #2e7d32; }
    .price-cell.premium { color: #e65100; }
    .reasoning-cell { font-size: 0.75rem; color: #666; font-style: italic; }

    /* Special Dates */
    .dates-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
    }
    @media (max-width: 768px) { .dates-container { grid-template-columns: 1fr; } }
    .dates-column { max-height: 350px; overflow-y: auto; }
    .dates-column h4 {
      font-size: 0.95rem;
      margin-bottom: 0.75rem;
      color: #555;
      position: sticky;
      top: 0;
      background: white;
      padding: 0.25rem 0;
    }
    .date-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.6rem;
      border-bottom: 1px solid #f0f0f0;
      font-size: 0.85rem;
      border-radius: 6px;
      margin-bottom: 0.35rem;
    }
    .date-item:hover { background: #fafbfc; }
    .date-item.long-weekend {
      background: linear-gradient(135deg, #fff8e1 0%, #fff3e0 100%);
      border: 1px solid #ffe082;
    }
    .date-info { flex: 1; }
    .date-name { font-weight: 600; color: #333; margin-bottom: 0.15rem; }
    .weekend-badge {
      display: inline-block;
      background: #ff9800;
      color: white;
      font-size: 0.6rem;
      padding: 0.1rem 0.4rem;
      border-radius: 10px;
      margin-left: 0.3rem;
      font-weight: 700;
    }
    .date-range { font-size: 0.7rem; color: #888; }
    .date-strategy { font-size: 0.7rem; color: #666; margin-top: 0.2rem; font-style: italic; }
    .date-multiplier { text-align: right; margin-left: 0.75rem; }
    .count-badge {
      background: var(--secondary);
      color: white;
      padding: 0.15rem 0.5rem;
      border-radius: 12px;
      font-size: 0.7rem;
      font-weight: 600;
    }
    .dates-column::-webkit-scrollbar { width: 5px; }
    .dates-column::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
    .dates-column::-webkit-scrollbar-thumb { background: var(--secondary); border-radius: 10px; }

    /* Destination Insights */
    .destination-overview {
      background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
      padding: 1.25rem;
      border-radius: 10px;
      margin-bottom: 1rem;
      border-left: 4px solid var(--secondary);
    }
    .destination-overview h4 { color: var(--secondary); margin-bottom: 0.5rem; font-size: 1rem; }
    .destination-overview p { color: #555; line-height: 1.6; margin-bottom: 0.5rem; }
    .traveler-profiles {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 0.75rem;
      margin-top: 0.75rem;
    }
    .traveler-card {
      background: #f8f9fa;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid #eee;
    }
    .traveler-card .icon { font-size: 1.5rem; margin-bottom: 0.35rem; }
    .traveler-card h5 { font-size: 0.9rem; color: #333; margin-bottom: 0.35rem; }
    .traveler-card .percentage { font-size: 1.2rem; font-weight: 700; color: var(--secondary); margin-bottom: 0.35rem; }
    .traveler-card .description { font-size: 0.8rem; color: #666; line-height: 1.4; }
    .traveler-card .characteristics { margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px solid #e0e0e0; }
    .traveler-card .char-item { font-size: 0.75rem; color: #555; margin-bottom: 0.2rem; padding-left: 0.75rem; position: relative; }
    .traveler-card .char-item:before { content: "‚Ä¢"; position: absolute; left: 0; color: var(--secondary); font-weight: bold; }
    .peak-seasons {
      background: #fff8e1;
      padding: 1rem;
      border-radius: 8px;
      margin-top: 0.75rem;
      border-left: 4px solid #ff9800;
    }
    .peak-seasons h4 { color: #e65100; margin-bottom: 0.5rem; font-size: 0.95rem; }
    .season-tags { display: flex; flex-wrap: wrap; gap: 0.4rem; margin-top: 0.5rem; }
    .season-tag {
      background: white;
      padding: 0.35rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      color: #e65100;
      font-weight: 600;
      border: 1px solid #ffe082;
    }
    .famous-for {
      background: #e8f5e9;
      padding: 1rem;
      border-radius: 8px;
      margin-top: 0.75rem;
      border-left: 4px solid #4caf50;
    }
    .famous-for h4 { color: #2e7d32; margin-bottom: 0.5rem; font-size: 0.95rem; }
    .famous-items { display: flex; flex-wrap: wrap; gap: 0.4rem; margin-top: 0.5rem; }
    .famous-item {
      background: white;
      padding: 0.35rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      color: #2e7d32;
      font-weight: 600;
      border: 1px solid #c8e6c9;
    }

    /* Overbooking section */
    .overbook-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 0.75rem;
      margin-top: 1rem;
    }
    .overbook-item {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
    }
    .overbook-item .ob-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
    }
    .overbook-item .ob-label { font-size: 0.8rem; color: #666; margin-top: 0.25rem; }

    /* No Data */
    .no-data { text-align: center; padding: 3rem; color: #666; }
    .no-data h3 { margin-bottom: 1rem; }
    .no-data a { color: var(--secondary); }

    /* Explore Tools */
    .explore-tools {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      margin-top: 2rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.07);
    }
    .explore-tools h3 { color: var(--primary); margin-bottom: 1rem; font-size: 1.1rem; }
    .tools-grid-mini {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
    }
    .tool-link {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
      text-decoration: none;
      color: inherit;
      transition: all 0.2s;
    }
    .tool-link:hover { background: var(--secondary-light); transform: translateX(4px); }
    .tool-link .icon { font-size: 1.5rem; }
    .tool-link .text h4 { color: var(--primary); font-size: 0.95rem; margin-bottom: 0.25rem; }
    .tool-link .text p { color: #666; font-size: 0.8rem; }

    /* Expand/collapse icon */
    .expand-icon {
      font-size: 1.2rem;
      color: #999;
      transition: transform 0.2s;
      margin-left: 0.5rem;
    }
    .action-card.expanded .expand-icon { transform: rotate(180deg); }

  </style>
  <link rel="stylesheet" href="/tools/css/tool-layout.css">
</head>
<body>
  <nav class="site-nav">
    <div class="nav-container">
      <a href="/" class="nav-logo">OnlineHotelier <span>Insights</span></a>
      <button class="nav-toggle" onclick="document.querySelector('.nav-links').classList.toggle('open')" aria-label="Toggle menu">&#9776;</button>
      <ul class="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="/guides/">Guides</a></li>
        <li><a href="/tools/" class="active">Tools</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="https://www.onlinehotelier.com/contact" class="nav-cta" target="_blank">Contact Us</a></li>
      </ul>
    </div>
  </nav>

  <div class="sidebar-overlay"></div>
  <button class="sidebar-toggle" aria-label="Toggle navigation">&#9776;</button>

  <div class="header">
    <h1>Your Revenue Playbook</h1>
    <p>Actionable Steps to Increase Your Hotel's Revenue</p>
  </div>

  <div class="tool-page-layout">
    <aside class="tool-sidebar"></aside>
    <div class="tool-main-content">

  <div class="container">

    <!-- No Data State -->
    <div id="noDataState" class="action-card no-data" style="display: none;">
      <div class="action-card-body">
        <h3>No Configuration Data Found</h3>
        <p>Please complete the <a href="/tools/revenue-management-tool/">Setup</a> first to generate your playbook.</p>
      </div>
    </div>

    <!-- Results Header -->
    <div class="results-header" id="resultsHeader">
      <div>
        <h2>Your Revenue Action Plan</h2>
        <span class="property-badge" id="propertyBadge">Loading...</span>
      </div>
      <a href="/tools/revenue-management-tool/" class="btn-back">Modify Setup</a>
    </div>

    <!-- Summary Cards -->
    <div class="summary-grid" id="summaryGrid">
      <div class="summary-card">
        <div class="value" id="sumInventory">-</div>
        <div class="label">Total Rooms</div>
      </div>
      <div class="summary-card">
        <div class="value" id="sumBaseRate">-</div>
        <div class="label">Base Rate</div>
      </div>
      <div class="summary-card">
        <div class="value" id="sumRoomTypes">-</div>
        <div class="label">Room Types</div>
      </div>
      <div class="summary-card">
        <div class="value" id="sumSameDay">-</div>
        <div class="label">Same-Day Bookings</div>
      </div>
    </div>

    <!-- ACTION CARD 1: Occupancy-Based Pricing -->
    <div class="action-card expanded" id="card-occupancy">
      <div class="action-card-header" onclick="toggleCard('card-occupancy')">
        <div class="action-card-title">
          <span class="card-icon">üìà</span>
          <h3>Action 1: Adjust Rates by Occupancy</h3>
        </div>
        <div style="display:flex;align-items:center;gap:0.75rem;">
          <div class="status-toggle" onclick="event.stopPropagation()">
            <button class="status-btn" onclick="setStatus('occupancy','doing',this)">Already doing</button>
            <button class="status-btn" onclick="setStatus('occupancy','not-yet',this)">Not yet</button>
          </div>
          <span class="expand-icon">&#9660;</span>
        </div>
      </div>
      <div class="action-card-body" id="occupancyBody">
        <div class="action-insight">
          <strong>What to do:</strong> Stop charging a flat rate. Increase your room price as your occupancy goes up. When you're 80% full, guests should pay more than when you're 30% full.
        </div>
        <div id="occupancySection">
          <div class="chart-container">
            <canvas id="pricingChart"></canvas>
          </div>
          <table class="data-table" id="slabsTable">
            <thead>
              <tr>
                <th>Slab</th>
                <th>Start</th>
                <th>End</th>
                <th>Total Increase</th>
                <th>Per Room</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="action-nudge" id="nudge-occupancy">
          <strong>Next step:</strong> Update your PMS or channel manager with these rate slabs. Most modern systems support occupancy-based pricing rules. <a href="/guides/software/what-is-rms-hotel.html" style="color:var(--secondary)">Learn about RMS software</a>.
        </div>
      </div>
    </div>

    <!-- ACTION CARD 2: Overbooking Base Category -->
    <div class="action-card expanded" id="card-overbooking">
      <div class="action-card-header" onclick="toggleCard('card-overbooking')">
        <div class="action-card-title">
          <span class="card-icon">üîÑ</span>
          <h3>Action 2: Overbook Your Base Category</h3>
        </div>
        <div style="display:flex;align-items:center;gap:0.75rem;">
          <div class="status-toggle" onclick="event.stopPropagation()">
            <button class="status-btn" onclick="setStatus('overbooking','doing',this)">Already doing</button>
            <button class="status-btn" onclick="setStatus('overbooking','not-yet',this)">Not yet</button>
          </div>
          <span class="expand-icon">&#9660;</span>
        </div>
      </div>
      <div class="action-card-body" id="overbookingBody">
        <div class="action-insight">
          <strong>What to do:</strong> Overbook your lowest-priced room category by a calculated percentage. When these rooms are full, upgrade guests to the next category at no extra cost. You sell more rooms without adding inventory.
        </div>
        <div id="overbookingSection"></div>
        <div class="action-nudge" id="nudge-overbooking">
          <strong>Next step:</strong> Set your overbooking limit in your PMS. Track no-show rates monthly to fine-tune the percentage. Start conservative and increase gradually.
        </div>
      </div>
    </div>

    <!-- ACTION CARD 3: Inventory Pooling -->
    <div class="action-card expanded" id="card-inventory">
      <div class="action-card-header" onclick="toggleCard('card-inventory')">
        <div class="action-card-title">
          <span class="card-icon">üè®</span>
          <h3>Action 3: Pool Similar Room Categories</h3>
        </div>
        <div style="display:flex;align-items:center;gap:0.75rem;">
          <div class="status-toggle" onclick="event.stopPropagation()">
            <button class="status-btn" onclick="setStatus('inventory','doing',this)">Already doing</button>
            <button class="status-btn" onclick="setStatus('inventory','not-yet',this)">Not yet</button>
          </div>
          <span class="expand-icon">&#9660;</span>
        </div>
      </div>
      <div class="action-card-body" id="inventoryBody">
        <div class="action-insight">
          <strong>What to do:</strong> Combine similar-priced room types into a shared pool. This prevents one category from showing "sold out" while another sits empty. Guests are assigned the best available room at check-in.
        </div>
        <div id="inventorySection">
          <div class="summary-grid" id="poolSummary"></div>
          <div id="poolVisualization"></div>
          <table class="data-table" id="inventoryTable">
            <thead>
              <tr>
                <th>Room Type</th>
                <th>Original</th>
                <th>Base Price</th>
                <th>Price Diff</th>
                <th>In Pool?</th>
                <th>Pool %</th>
                <th>Reallocated</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="action-nudge" id="nudge-inventory">
          <strong>Next step:</strong> Configure room pooling in your <a href="/guides/software/what-is-pms-hotel.html" style="color:var(--secondary)">PMS</a>. Most systems support virtual room pools or flexible inventory allocation.
        </div>
      </div>
    </div>

    <!-- ACTION CARD 4: Weekday/Weekend & Seasonal Markups -->
    <div class="action-card expanded" id="card-demand">
      <div class="action-card-header" onclick="toggleCard('card-demand')">
        <div class="action-card-title">
          <span class="card-icon">üìä</span>
          <h3>Action 4: Apply Weekday/Weekend & Seasonal Markups</h3>
        </div>
        <div style="display:flex;align-items:center;gap:0.75rem;">
          <div class="status-toggle" onclick="event.stopPropagation()">
            <button class="status-btn" onclick="setStatus('demand','doing',this)">Already doing</button>
            <button class="status-btn" onclick="setStatus('demand','not-yet',this)">Not yet</button>
          </div>
          <span class="expand-icon">&#9660;</span>
        </div>
      </div>
      <div class="action-card-body" id="demandBody">
        <div class="action-insight" id="demandInsight">
          <strong>What to do:</strong> Charge different rates for high-demand days (weekends/weekdays depending on your type) and mark up prices during peak seasons.
        </div>
        <div id="demandSection">
          <div class="two-col">
            <div>
              <h4 style="font-size: 0.95rem; margin-bottom: 0.5rem;">Weekday Demand Pattern</h4>
              <table class="weekday-table" id="weekdayTable">
                <thead><tr><th>Day</th><th>Demand</th><th>Score</th><th>Multiplier</th></tr></thead>
                <tbody></tbody>
              </table>
            </div>
            <div>
              <h4 style="font-size: 0.95rem; margin-bottom: 0.5rem;">Monthly Demand (1-15 Scale)</h4>
              <div class="month-grid" id="monthGrid"></div>
            </div>
          </div>
        </div>
        <div class="action-nudge" id="nudge-demand">
          <strong>Next step:</strong> Set up day-of-week rate multipliers in your channel manager. Update seasonal rates at least quarterly. <a href="/guides/revenue/adr.html" style="color:var(--secondary)">Read our ADR guide</a>.
        </div>
      </div>
    </div>

    <!-- ACTION CARD 5: Wedding & Event Dates Calendar -->
    <div class="action-card expanded" id="card-calendar">
      <div class="action-card-header" onclick="toggleCard('card-calendar')">
        <div class="action-card-title">
          <span class="card-icon">üìÖ</span>
          <h3>Action 5: Mark Up for Events, Festivals & Wedding Dates</h3>
        </div>
        <div style="display:flex;align-items:center;gap:0.75rem;">
          <div class="status-toggle" onclick="event.stopPropagation()">
            <button class="status-btn" onclick="setStatus('calendar','doing',this)">Already doing</button>
            <button class="status-btn" onclick="setStatus('calendar','not-yet',this)">Not yet</button>
          </div>
          <span class="expand-icon">&#9660;</span>
        </div>
      </div>
      <div class="action-card-body" id="calendarBody">
        <div class="action-insight">
          <strong>What to do:</strong> Identify upcoming festivals, long weekends, and wedding muhurat dates for your region. Mark up rates 15-40% during these periods. Don't leave money on the table when everyone wants a room.
        </div>
        <div id="specialDatesSection">
          <div style="margin-bottom:0.75rem;">
            <span class="count-badge" id="datesCount">0 Events</span>
            <a href="/tools/demand-calendar/" style="margin-left:0.75rem;color:var(--secondary);font-size:0.85rem;font-weight:600;">View Full 2026 Calendar ‚Üí</a>
          </div>
          <div class="dates-container">
            <div class="dates-column">
              <h4>Long Weekends (High Impact)</h4>
              <div id="longWeekendsList"></div>
            </div>
            <div class="dates-column">
              <h4>Special Events & Festivals</h4>
              <div id="specialEventsList"></div>
            </div>
          </div>
        </div>
        <div class="action-nudge" id="nudge-calendar">
          <strong>Next step:</strong> Block these dates in your rate calendar now. Set higher BAR rates 60-90 days before each event. <a href="/guides/revenue/mlos.html" style="color:var(--secondary)">Set MLOS for peak dates</a>.
        </div>
      </div>
    </div>

    <!-- ACTION CARD 6: Time-of-Day Pricing -->
    <div class="action-card expanded" id="card-time">
      <div class="action-card-header" onclick="toggleCard('card-time')">
        <div class="action-card-title">
          <span class="card-icon">üïê</span>
          <h3>Action 6: Adjust Prices by Time of Day</h3>
        </div>
        <div style="display:flex;align-items:center;gap:0.75rem;">
          <div class="status-toggle" onclick="event.stopPropagation()">
            <button class="status-btn" onclick="setStatus('time','doing',this)">Already doing</button>
            <button class="status-btn" onclick="setStatus('time','not-yet',this)">Not yet</button>
          </div>
          <span class="expand-icon">&#9660;</span>
        </div>
      </div>
      <div class="action-card-body" id="timeBody">
        <div class="action-insight">
          <strong>What to do:</strong> If rooms are unsold by evening, offer time-sensitive discounts. An 80% rate is better than an empty room. Conversely, if you're filling up fast, add a premium.
        </div>
        <div id="timeSection">
          <div class="summary-grid" id="timeStats"></div>
          <table class="suggestions-table" id="suggestionsTable">
            <thead>
              <tr>
                <th>Day</th>
                <th>Time</th>
                <th>Condition</th>
                <th>Base</th>
                <th>Suggested</th>
                <th>Change</th>
                <th>Reasoning</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="action-nudge" id="nudge-time">
          <strong>Next step:</strong> Set up time-based rate rules in your <a href="/guides/software/channel-manager.html" style="color:var(--secondary)">channel manager</a>. Start with same-day discounts at 3 PM and 6 PM.
        </div>
      </div>
    </div>

    <!-- Destination Insights (bonus context) -->
    <div class="action-card" id="destinationInsights" style="display: none;">
      <div class="action-card-header" onclick="toggleCard('destinationInsights')">
        <div class="action-card-title">
          <span class="card-icon">üìç</span>
          <h3>Your Destination Profile</h3>
        </div>
        <span class="expand-icon">&#9660;</span>
      </div>
      <div class="action-card-body collapsed" id="destinationBody">
        <div id="destinationContent"></div>
      </div>
    </div>

    <!-- Explore More Tools -->
    <div class="explore-tools">
      <h3>Explore More Tools</h3>
      <div class="tools-grid-mini">
        <a href="/tools/ota-commission-calculator/" class="tool-link">
          <span class="icon">üí∞</span>
          <div class="text">
            <h4>OTA Commission Calculator</h4>
            <p>Know your exact OTA settlement</p>
          </div>
        </a>
        <a href="/tools/demand-calendar/" class="tool-link">
          <span class="icon">üìÖ</span>
          <div class="text">
            <h4>Demand Calendar 2026</h4>
            <p>Plan for peak pricing dates</p>
          </div>
        </a>
        <a href="/tools/revenue-management-tool/" class="tool-link">
          <span class="icon">‚öôÔ∏è</span>
          <div class="text">
            <h4>Modify Setup</h4>
            <p>Adjust your configuration</p>
          </div>
        </a>
      </div>
    </div>

  </div>

  <footer style="background: #3E3D35; color: white; padding: 2rem; margin-top: 3rem;">
    <div style="max-width: 1200px; margin: 0 auto; text-align: center;">
      <p>&copy; 2026 OnlineHotelier. All rights reserved.</p>
      <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.8;">
        <a href="/about/" style="color: #89826E; text-decoration: none;">About</a> &bull;
        <a href="/tools/" style="color: #89826E; text-decoration: none;">Tools</a> &bull;
        <a href="/guides/" style="color: #89826E; text-decoration: none;">Guides</a> &bull;
        <a href="https://www.onlinehotelier.com/contact" target="_blank" style="color: #89826E; text-decoration: none;">Contact Us</a>
      </p>
    </div>
  </footer>

  <script>
    // =============================================
    // DESTINATION INSIGHTS DATABASE
    // =============================================
    const destinationInsights = {
      'Bangalore': { famousFor: ['IT Hub', 'Startup Capital', 'Silicon Valley of India', 'Pleasant Weather', 'Pub Culture', 'MG Road', 'Lalbagh Gardens'], overview: 'Bangalore is India\'s leading technology and innovation hub, attracting business travelers, tech professionals, and startup entrepreneurs year-round.', travelers: [ { type: 'Business Travelers', percentage: '55%', description: 'IT professionals, consultants, corporate executives for meetings and conferences', characteristics: ['Weekday focused', 'Extended stays common', 'Expense accounts', 'Airport proximity valued'] }, { type: 'Leisure Tourists', percentage: '25%', description: 'Domestic and international tourists exploring gardens, palaces, and nightlife', characteristics: ['Weekend visitors', 'Couple and family trips', 'Mid-range budget', 'City tours'] }, { type: 'Medical Tourists', percentage: '20%', description: 'Patients and families seeking world-class healthcare facilities', characteristics: ['Extended stays', 'Hospital proximity critical', 'Family rooms needed', 'Support services important'] } ], peakSeasons: ['September-November (Conference Season)', 'January-March (Business Peak)', 'December (Year-end Corporate)'] },
      'Mumbai': { famousFor: ['Financial Capital', 'Bollywood', 'Gateway of India', 'Marine Drive', 'Business Hub', 'Fashion & Entertainment'], overview: 'India\'s financial and entertainment capital. Mumbai attracts business executives, film industry professionals, and international tourists.', travelers: [ { type: 'Business Travelers', percentage: '60%', description: 'Finance professionals, corporate executives, international business delegations', characteristics: ['Weekday demand', 'Premium pricing tolerance', 'Near BKC/Nariman Point', 'Quick check-ins valued'] }, { type: 'Entertainment Industry', percentage: '20%', description: 'Film crews, actors, production teams, media professionals', characteristics: ['Flexible stays', 'Group bookings', 'Discretion valued', 'Central locations'] }, { type: 'Leisure & Weddings', percentage: '20%', description: 'Destination weddings, shopping trips, heritage tourism', characteristics: ['Weekend peaks', 'Luxury segment', 'Event spaces needed', 'High spend per guest'] } ], peakSeasons: ['October-March (Wedding & Business Season)', 'December-January (Year-end Peak)', 'Festival Periods'] },
      'Delhi': { famousFor: ['National Capital', 'Historical Monuments', 'Red Fort', 'India Gate', 'Government Hub', 'Shopping Districts'], overview: 'India\'s capital and political center. Attracts government officials, diplomats, business travelers, and heritage tourists.', travelers: [ { type: 'Business & Government', percentage: '50%', description: 'Corporate travelers, government officials, diplomats, lobbyists', characteristics: ['Year-round demand', 'Central Delhi/Connaught Place preferred', 'Security conscious', 'Meeting facilities important'] }, { type: 'Heritage Tourists', percentage: '30%', description: 'Domestic and international tourists visiting monuments and museums', characteristics: ['October-March peak', 'Budget to mid-range', 'Golden Triangle circuit', 'Tour packages'] }, { type: 'MICE & Events', percentage: '20%', description: 'Conference attendees, exhibition visitors, event participants', characteristics: ['Group bookings', 'Event calendar driven', 'Near exhibition centers', 'Banquet facilities needed'] } ], peakSeasons: ['October-March (Pleasant Weather)', 'Republic Day Week', 'Budget Session (Feb-May)'] },
      'Goa': { famousFor: ['Beaches', 'Nightlife', 'Portuguese Heritage', 'Water Sports', 'Beach Shacks', 'Casinos', 'Seafood'], overview: 'India\'s premier beach destination. Year-round tourism with strong domestic and international leisure travelers.', travelers: [ { type: 'Leisure Tourists', percentage: '70%', description: 'Beach lovers, party-goers, honeymooners, backpackers seeking sun, sand, and nightlife', characteristics: ['November-February peak', 'Extended stays', 'Beach proximity critical', 'Nightlife access valued'] }, { type: 'Wedding Groups', percentage: '20%', description: 'Destination weddings and celebrations, especially November-January', characteristics: ['Large group bookings', 'Multiple nights', 'Event facilities needed', 'Premium pricing tolerance'] }, { type: 'Remote Workers', percentage: '10%', description: 'Digital nomads and remote professionals seeking workation destinations', characteristics: ['Monthly stays', 'WiFi critical', 'Co-working access', 'Off-season residents'] } ], peakSeasons: ['November-February (Winter Peak)', 'Christmas-New Year (Absolute Peak)', 'Sunburn Festival (Dec-Jan)'] },
      'Jaipur': { famousFor: ['Pink City', 'Hawa Mahal', 'Amber Fort', 'City Palace', 'Heritage Hotels', 'Rajasthani Culture', 'Weddings'], overview: 'Rajasthan\'s capital and major heritage tourism destination. Famous for palaces, forts, and destination weddings.', travelers: [ { type: 'Heritage Tourists', percentage: '50%', description: 'Golden Triangle circuit travelers, monument enthusiasts, culture seekers', characteristics: ['October-March peak', 'Mid-range to premium', '2-3 night stays', 'Fort/palace visits'] }, { type: 'Wedding Groups', percentage: '30%', description: 'Destination weddings in heritage properties, especially November-February', characteristics: ['Large bookings', 'Multi-day events', 'Heritage venue preference', 'High-value bookings'] }, { type: 'Business & MICE', percentage: '20%', description: 'Conference attendees, corporate events, incentive tours', characteristics: ['Hotel facilities important', 'Group bookings', 'Cultural programs', 'Year-round but winter peak'] } ], peakSeasons: ['October-March (Wedding Season)', 'Diwali-New Year Period', 'February (Literature Festival)'] },
      'Udaipur': { famousFor: ['City of Lakes', 'Lake Palace', 'Romantic Destination', 'Heritage Properties', 'Destination Weddings'], overview: 'Rajasthan\'s most romantic city, famous for lake palaces and heritage hotels. Premium destination wedding capital.', travelers: [ { type: 'Luxury Tourists', percentage: '45%', description: 'High-end leisure travelers, honeymooners, anniversary celebrations', characteristics: ['Premium pricing', 'Lake view rooms', 'Heritage experiences', 'Couple-focused'] }, { type: 'Wedding Groups', percentage: '40%', description: 'Premium destination weddings, especially in heritage lake palaces', characteristics: ['Very high budgets', 'Multi-day bookings', 'Entire property buyouts', 'Peak: Nov-Feb'] }, { type: 'International Tourists', percentage: '15%', description: 'Foreign travelers on Rajasthan circuits, cultural enthusiasts', characteristics: ['October-March visits', 'Premium segment', 'Heritage properties', 'Extended India tours'] } ], peakSeasons: ['November-February (Wedding Season)', 'December-January (Peak Winter)', 'October (Dussehra/Diwali)'] },
      'Shimla': { famousFor: ['Hill Station', 'Mall Road', 'Colonial Architecture', 'Toy Train', 'Snow in Winter', 'Summer Capital Legacy'], overview: 'Himachal\'s capital and popular hill station. Summer escape from plains heat, winter destination for snow seekers.', travelers: [ { type: 'Family Vacationers', percentage: '55%', description: 'North Indian families escaping summer heat or seeking winter snow', characteristics: ['May-June peak (summer)', 'December-January (snow)', 'Budget conscious', 'Multiple room bookings'] }, { type: 'Honeymooners', percentage: '25%', description: 'Newly married couples seeking romantic hill station experience', characteristics: ['Year-round but winter peak', 'Premium rooms', 'Privacy valued', 'Scenic views important'] }, { type: 'Corporate Groups', percentage: '20%', description: 'Team outings, offsites, corporate events escaping city', characteristics: ['Conference facilities', 'Group activities', 'September-November', 'Weekday bookings'] } ], peakSeasons: ['May-June (Summer Escape)', 'December-January (Snow Season)', 'October (Dussehra Week)'] },
      'Manali': { famousFor: ['Adventure Sports', 'Honeymoon Destination', 'Rohtang Pass', 'Solang Valley', 'Snow Activities', 'Backpacker Hub'], overview: 'Himachal\'s premier adventure and honeymoon destination. Year-round appeal with distinct summer trekking and winter snow seasons.', travelers: [ { type: 'Adventure Tourists', percentage: '40%', description: 'Trekkers, paragliders, river rafters, mountain bikers seeking adrenaline', characteristics: ['May-October season', 'Budget to mid-range', 'Activity packages', 'Young demographic'] }, { type: 'Honeymooners', percentage: '35%', description: 'Couples seeking romantic mountain getaway with snow/adventure', characteristics: ['December-February peak', 'Premium properties', 'Privacy important', 'Package deals'] }, { type: 'Backpackers', percentage: '25%', description: 'Budget travelers, solo travelers, international backpackers', characteristics: ['Hostel/budget stays', 'Old Manali area', 'Long stays', 'Cafe culture'] } ], peakSeasons: ['May-June (Summer Peak)', 'December-January (Snow Season)', 'October (Post-monsoon)'] },
      'Varanasi': { famousFor: ['Spiritual Capital', 'Ghats', 'Ganga Aarti', 'Ancient Temples', 'Hindu Pilgrimage', 'Silk Weaving'], overview: 'India\'s holiest city and major spiritual destination. Continuous pilgrimage traffic year-round with festival peaks.', travelers: [ { type: 'Pilgrims', percentage: '60%', description: 'Hindu devotees visiting temples, performing rituals, seeking spiritual experiences', characteristics: ['Year-round demand', 'Budget segment', 'Ghat proximity valued', 'Short stays'] }, { type: 'Spiritual Seekers', percentage: '25%', description: 'International and domestic tourists seeking authentic spiritual experiences', characteristics: ['Mid to premium', 'Yoga/meditation centers', 'Cultural immersion', 'Extended stays'] }, { type: 'Cultural Tourists', percentage: '15%', description: 'Travelers exploring ancient city heritage, ghats, temples, local culture', characteristics: ['October-March peak', 'Boutique properties', 'Ganga view rooms', 'Photography enthusiasts'] } ], peakSeasons: ['October-March (Pleasant Weather)', 'Mahashivratri (Feb-Mar)', 'Dev Deepawali (Nov)', 'Kartik Purnima'] },
      'Agra': { famousFor: ['Taj Mahal', 'UNESCO Heritage Sites', 'Mughal Architecture', 'Agra Fort', 'Golden Triangle'], overview: 'Home to the iconic Taj Mahal. Major stop on the Golden Triangle tourist circuit.', travelers: [ { type: 'Day Trippers', percentage: '40%', description: 'Delhi-based tourists and same-day visitors viewing Taj Mahal', characteristics: ['No overnight stay', 'Early morning visits', 'Restaurant/lunch demand', 'Limited hotel impact'] }, { type: 'Golden Triangle Tourists', percentage: '45%', description: 'Circuit travelers spending 1-2 nights as part of Delhi-Agra-Jaipur tour', characteristics: ['October-March peak', 'Budget to mid-range', 'Short stays', 'Monument focused'] }, { type: 'International Tourists', percentage: '15%', description: 'Foreign visitors on India heritage tours', characteristics: ['Premium segment', 'Taj view rooms valued', 'Heritage hotels', 'Professional guides'] } ], peakSeasons: ['October-March (Pleasant Weather)', 'December-January (Winter Peak)', 'Avoid July-August (Monsoon)'] },
      'Rishikesh': { famousFor: ['Yoga Capital', 'Adventure Sports', 'River Rafting', 'Beatles Ashram', 'Ganga Ghat', 'Spiritual Retreats'], overview: 'World-renowned yoga and adventure destination. Attracts international yoga practitioners and adventure enthusiasts.', travelers: [ { type: 'Yoga & Wellness', percentage: '45%', description: 'International yoga students, wellness seekers, meditation practitioners', characteristics: ['Extended stays', 'Ashram accommodation', 'March & September peaks', 'Teacher training months'] }, { type: 'Adventure Tourists', percentage: '35%', description: 'River rafting, camping, trekking, bungee jumping enthusiasts', characteristics: ['September-November', 'March-May', 'Budget to mid-range', 'Activity packages'] }, { type: 'Spiritual Pilgrims', percentage: '20%', description: 'Religious tourists visiting temples, attending Ganga Aarti', characteristics: ['Year-round', 'Budget conscious', 'Ghat proximity', 'Festival times peak'] } ], peakSeasons: ['March (International Yoga Festival)', 'September-November (Adventure Season)', 'March-May (Pre-monsoon)'] },
      'Ooty': { famousFor: ['Queen of Hill Stations', 'Nilgiri Mountain Railway', 'Tea Gardens', 'Botanical Gardens', 'Colonial Charm'], overview: 'Tamil Nadu\'s premier hill station. Colonial-era charm with tea plantations. Popular summer destination.', travelers: [ { type: 'Family Vacationers', percentage: '60%', description: 'Tamil Nadu/Karnataka families escaping summer heat', characteristics: ['April-June peak', 'Budget to mid-range', 'Multiple rooms', 'Sightseeing focused'] }, { type: 'Honeymooners', percentage: '25%', description: 'South Indian newlyweds seeking romantic hill station getaway', characteristics: ['Year-round', 'Premium properties', 'Lake view valued', 'Photography spots'] }, { type: 'Film Shootings', percentage: '15%', description: 'South Indian film crews using scenic locations', characteristics: ['Off-season preferred', 'Extended bookings', 'Multiple rooms', 'Privacy needed'] } ], peakSeasons: ['April-June (Summer Peak)', 'December-January (Winter)', 'October (Flower Show)'] },
      'Munnar': { famousFor: ['Tea Plantations', 'Hill Station', 'Eravikulam National Park', 'Trekking', 'Scenic Beauty'], overview: 'Kerala\'s premier hill station famous for rolling tea estates. Popular honeymoon destination.', travelers: [ { type: 'Honeymooners', percentage: '45%', description: 'Romantic couples seeking tea plantation resort experiences', characteristics: ['October-May peak', 'Mid to premium', 'Privacy important', 'Scenic properties'] }, { type: 'Nature Tourists', percentage: '35%', description: 'Wildlife enthusiasts, trekkers, tea lovers, photographers', characteristics: ['September-March optimal', 'Eco-tourism', 'Plantation stays', 'Bird watching'] }, { type: 'Family Vacationers', percentage: '20%', description: 'Kerala circuit travelers including Munnar in itinerary', characteristics: ['Multi-destination trips', 'Mid-range budget', 'Sightseeing focused', '2-3 night stays'] } ], peakSeasons: ['October-January (Pleasant Weather)', 'December-January (Peak Winter)', 'April-May'] },
      'Kochi': { famousFor: ['Fort Kochi', 'Backwaters', 'Spice Trade', 'Chinese Fishing Nets', 'Kathakali'], overview: 'Kerala\'s commercial capital with colonial charm. Growing cruise tourism and cultural heritage.', travelers: [ { type: 'Cruise Tourists', percentage: '30%', description: 'International cruise passengers on shore excursions', characteristics: ['October-April season', 'Day visitors', 'Premium dining', 'Fort Kochi area'] }, { type: 'Heritage Tourists', percentage: '40%', description: 'Fort Kochi explorers, art gallery visitors, cultural enthusiasts', characteristics: ['September-March peak', 'Boutique hotels', 'Walking tours', '2-3 night stays'] }, { type: 'Business Travelers', percentage: '30%', description: 'Spice traders, IT professionals, port-related business', characteristics: ['Year-round', 'Weekday demand', 'Near commercial areas', 'Quick stays'] } ], peakSeasons: ['October-March (Cruise Season)', 'December-January (Peak Winter)', 'Biennale (Dec-Mar alternate years)'] },
      'Hyderabad': { famousFor: ['IT Hub', 'Biryani', 'Charminar', 'Golconda Fort', 'Ramoji Film City', 'Pharma Industry'], overview: 'Major IT and pharmaceutical hub. Strong business tourism with growing leisure sector.', travelers: [ { type: 'Business Travelers', percentage: '55%', description: 'IT professionals, pharma executives, corporate delegations', characteristics: ['Year-round demand', 'Weekday peak', 'HITEC City area', 'Extended stays'] }, { type: 'Leisure Tourists', percentage: '30%', description: 'Heritage seekers, food enthusiasts, Ramoji Film City visitors', characteristics: ['Weekend focus', 'Mid-range segment', '2-3 night stays', 'October-March'] }, { type: 'Medical Tourists', percentage: '15%', description: 'Healthcare seekers in world-class hospitals', characteristics: ['Hospital proximity', 'Family rooms', 'Extended bookings', 'Year-round'] } ], peakSeasons: ['September-March (Pleasant Weather)', 'December-January (Year-end)', 'Conference Season'] },
      'Pune': { famousFor: ['Educational Hub', 'IT Industry', 'Pleasant Weather', 'Historical Sites', 'Adventure Sports'], overview: 'Maharashtra\'s cultural capital. Major IT and education hub.', travelers: [ { type: 'Business Travelers', percentage: '50%', description: 'IT professionals, auto industry executives, corporate training participants', characteristics: ['Weekday demand', 'Hinjewadi/Magarpatta areas', 'Conference facilities', 'Year-round'] }, { type: 'Education Related', percentage: '25%', description: 'Parents visiting students, education conference attendees', characteristics: ['Admission season peaks', 'Budget conscious', 'Campus proximity', 'Short stays'] }, { type: 'Weekend Tourists', percentage: '25%', description: 'Mumbai residents seeking hill stations, adventure sports, wine tours', characteristics: ['Friday-Sunday', 'Lonavala proximity', 'Adventure packages', 'Monsoon treks'] } ], peakSeasons: ['October-February (Pleasant Weather)', 'June-September (Monsoon Treks)', 'Year-end Conferences'] },
      'Chennai': { famousFor: ['Marina Beach', 'IT Hub', 'Temples', 'South Indian Cuisine', 'Classical Arts'], overview: 'Tamil Nadu\'s capital and major business center. Growing IT sector with cultural heritage.', travelers: [ { type: 'Business Travelers', percentage: '45%', description: 'IT professionals, automotive industry executives, corporate meetings', characteristics: ['Year-round demand', 'Weekday focused', 'Near OMR/IT corridor', 'Airport connectivity'] }, { type: 'Medical Tourists', percentage: '30%', description: 'Patients seeking advanced healthcare in renowned hospitals', characteristics: ['Hospital proximity', 'Extended stays', 'Family accommodations', 'Year-round'] }, { type: 'Temple Tourists', percentage: '25%', description: 'Pilgrims visiting temples, Mahabalipuram', characteristics: ['Weekend peaks', 'Budget to mid-range', 'Temple proximity', 'Cultural tours'] } ], peakSeasons: ['December-February (Pleasant Weather)', 'August-September (Festival Season)', 'Year-round Business'] },
      'Kolkata': { famousFor: ['Cultural Capital', 'Victoria Memorial', 'Howrah Bridge', 'Street Food', 'Durga Puja'], overview: 'West Bengal\'s capital with rich colonial heritage. Major business and cultural center.', travelers: [ { type: 'Business Travelers', percentage: '40%', description: 'Corporate executives, traders, industry professionals', characteristics: ['Weekday demand', 'Central Kolkata preferred', 'Metro connectivity', 'Meeting facilities'] }, { type: 'Cultural Tourists', percentage: '35%', description: 'Heritage enthusiasts, art lovers, literary tourists', characteristics: ['October-March peak', 'Heritage hotels', 'Cultural programs', 'Photography'] }, { type: 'Durga Puja Visitors', percentage: '25%', description: 'Festival tourists during October Durga Puja celebrations', characteristics: ['October peak', 'Book months ahead', '100% occupancy', 'Premium pricing'] } ], peakSeasons: ['October (Durga Puja)', 'December-February (Winter)', 'Book Fair (Jan-Feb)'] },
      'Amritsar': { famousFor: ['Golden Temple', 'Sikh Pilgrimage', 'Wagah Border', 'Punjabi Cuisine', 'Jallianwala Bagh'], overview: 'Sikh religious capital and major pilgrimage destination. Strong year-round religious tourism.', travelers: [ { type: 'Sikh Pilgrims', percentage: '55%', description: 'Devotees visiting Golden Temple for religious ceremonies and prayers', characteristics: ['Year-round demand', 'All budget levels', 'Temple proximity critical', 'Guru Nanak Jayanti peak'] }, { type: 'Domestic Tourists', percentage: '30%', description: 'North Indian families combining religious and patriotic tourism', characteristics: ['Golden Temple + Wagah', 'Budget to mid-range', 'Short stays', 'Food enthusiasts'] }, { type: 'International Tourists', percentage: '15%', description: 'Foreign visitors including NRI Sikhs, history buffs', characteristics: ['Heritage hotels', 'Cultural experiences', 'October-March peak', 'Professional guides'] } ], peakSeasons: ['Guru Nanak Jayanti (Nov)', 'Baisakhi (April)', 'October-March (Pleasant Weather)'] },
      'Darjeeling': { famousFor: ['Tea Gardens', 'Toy Train', 'Kanchenjunga Views', 'Colonial Heritage', 'Tiger Hill'], overview: 'West Bengal\'s premier hill station. Famous for tea estates and Himalayan views.', travelers: [ { type: 'Heritage Tourists', percentage: '45%', description: 'Toy train enthusiasts, colonial history buffs, tea lovers', characteristics: ['October-November peak', 'Mid to premium', 'Heritage hotels', 'Kanchenjunga views'] }, { type: 'Family Vacationers', percentage: '35%', description: 'Bengali and North Indian families seeking hill station experience', characteristics: ['April-June summer', 'Budget conscious', 'Mall Road hotels', 'Short stays'] }, { type: 'International Tourists', percentage: '20%', description: 'Foreign travelers on Northeast circuits, tea tourism enthusiasts', characteristics: ['October-December', 'Premium segment', 'Tea estate stays', 'Cultural experiences'] } ], peakSeasons: ['April-June (Summer Escape)', 'October-December (Post-monsoon)', 'December-January (Christmas/New Year)'] },
      'Tirupati': { famousFor: ['Tirumala Temple', 'Richest Temple', 'Venkateswara', 'Laddu Prasadam', 'Seven Hills'], overview: 'India\'s most visited pilgrimage destination. Tirumala Venkateswara Temple attracts millions annually.', travelers: [ { type: 'Pilgrims', percentage: '95%', description: 'Devotees from across India seeking darshan', characteristics: ['Year-round massive demand', 'All budget levels', 'TTD accommodations', 'Advance booking essential'] }, { type: 'Domestic Tourists', percentage: '5%', description: 'Temple architecture admirers, cultural tourists', characteristics: ['Combined with darshan', 'Mid-range', 'Hill visit', 'Short stays'] } ], peakSeasons: ['Year-round Heavy Traffic', 'Brahmotsavam (Sep-Oct)', 'New Year', 'All Festival Days'] }
    };

    // =============================================
    // DEMAND PATTERNS DATA
    // =============================================
    const demandPatterns = {
      metro_business: {
        weekdays: { 'Monday': { demand: 'high', score: 11, multiplier: 1.1 }, 'Tuesday': { demand: 'high', score: 12, multiplier: 1.15 }, 'Wednesday': { demand: 'high', score: 12, multiplier: 1.15 }, 'Thursday': { demand: 'high', score: 11, multiplier: 1.1 }, 'Friday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Saturday': { demand: 'low', score: 6, multiplier: 0.85 }, 'Sunday': { demand: 'low', score: 5, multiplier: 0.8 } },
        months: { 'Jan': { score: 11, demand: 'high', reasoning: 'Post-holiday corporate activity' }, 'Feb': { score: 12, demand: 'high', reasoning: 'Budget allocations, conferences' }, 'Mar': { score: 13, demand: 'peak', reasoning: 'Q4 fiscal year-end' }, 'Apr': { score: 8, demand: 'normal', reasoning: 'New fiscal year start' }, 'May': { score: 6, demand: 'low', reasoning: 'Summer lull' }, 'Jun': { score: 7, demand: 'normal', reasoning: 'Monsoon, stable' }, 'Jul': { score: 9, demand: 'normal', reasoning: 'Mid-year reviews' }, 'Aug': { score: 10, demand: 'high', reasoning: 'Post-monsoon pickup' }, 'Sep': { score: 12, demand: 'high', reasoning: 'Conference season' }, 'Oct': { score: 13, demand: 'peak', reasoning: 'Festival season business' }, 'Nov': { score: 12, demand: 'high', reasoning: 'Pre-holiday rush' }, 'Dec': { score: 9, demand: 'normal', reasoning: 'Year-end, leisure mix' } }
      },
      leisure: {
        weekdays: { 'Monday': { demand: 'low', score: 6, multiplier: 0.85 }, 'Tuesday': { demand: 'low', score: 6, multiplier: 0.85 }, 'Wednesday': { demand: 'normal', score: 8, multiplier: 0.95 }, 'Thursday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Friday': { demand: 'high', score: 11, multiplier: 1.15 }, 'Saturday': { demand: 'peak', score: 14, multiplier: 1.3 }, 'Sunday': { demand: 'high', score: 11, multiplier: 1.1 } },
        months: { 'Jan': { score: 14, demand: 'peak', reasoning: 'Winter peak, holidays' }, 'Feb': { score: 13, demand: 'peak', reasoning: 'Valentine\'s, winter continues' }, 'Mar': { score: 12, demand: 'high', reasoning: 'Holi season, pre-summer' }, 'Apr': { score: 10, demand: 'high', reasoning: 'Summer starts' }, 'May': { score: 7, demand: 'normal', reasoning: 'Peak summer heat' }, 'Jun': { score: 4, demand: 'low', reasoning: 'Monsoon begins' }, 'Jul': { score: 3, demand: 'very-low', reasoning: 'Heavy monsoon' }, 'Aug': { score: 4, demand: 'low', reasoning: 'Monsoon continues' }, 'Sep': { score: 8, demand: 'normal', reasoning: 'Monsoon retreats' }, 'Oct': { score: 12, demand: 'high', reasoning: 'Diwali season' }, 'Nov': { score: 14, demand: 'peak', reasoning: 'Wedding season peak' }, 'Dec': { score: 15, demand: 'peak', reasoning: 'Christmas/New Year peak' } }
      },
      hill_station: {
        weekdays: { 'Monday': { demand: 'low', score: 5, multiplier: 0.8 }, 'Tuesday': { demand: 'low', score: 5, multiplier: 0.8 }, 'Wednesday': { demand: 'normal', score: 7, multiplier: 0.9 }, 'Thursday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Friday': { demand: 'high', score: 12, multiplier: 1.2 }, 'Saturday': { demand: 'peak', score: 15, multiplier: 1.4 }, 'Sunday': { demand: 'high', score: 12, multiplier: 1.15 } },
        months: { 'Jan': { score: 6, demand: 'low', reasoning: 'Too cold (except snow destinations)' }, 'Feb': { score: 8, demand: 'normal', reasoning: 'Winter tourism' }, 'Mar': { score: 12, demand: 'high', reasoning: 'Spring flowers, pleasant' }, 'Apr': { score: 14, demand: 'peak', reasoning: 'Pre-summer rush' }, 'May': { score: 15, demand: 'peak', reasoning: 'Summer vacation peak' }, 'Jun': { score: 13, demand: 'peak', reasoning: 'Early monsoon, still popular' }, 'Jul': { score: 8, demand: 'normal', reasoning: 'Heavy rains' }, 'Aug': { score: 7, demand: 'normal', reasoning: 'Monsoon continues' }, 'Sep': { score: 10, demand: 'high', reasoning: 'Post-monsoon greenery' }, 'Oct': { score: 13, demand: 'peak', reasoning: 'Autumn, Diwali season' }, 'Nov': { score: 9, demand: 'normal', reasoning: 'Gets cold' }, 'Dec': { score: 11, demand: 'high', reasoning: 'Christmas/New Year' } }
      },
      beach: {
        weekdays: { 'Monday': { demand: 'low', score: 6, multiplier: 0.85 }, 'Tuesday': { demand: 'low', score: 6, multiplier: 0.85 }, 'Wednesday': { demand: 'normal', score: 8, multiplier: 0.95 }, 'Thursday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Friday': { demand: 'high', score: 12, multiplier: 1.2 }, 'Saturday': { demand: 'peak', score: 14, multiplier: 1.35 }, 'Sunday': { demand: 'high', score: 11, multiplier: 1.1 } },
        months: { 'Jan': { score: 14, demand: 'peak', reasoning: 'Winter peak season' }, 'Feb': { score: 13, demand: 'peak', reasoning: 'Winter continues' }, 'Mar': { score: 12, demand: 'high', reasoning: 'Pre-summer season' }, 'Apr': { score: 10, demand: 'high', reasoning: 'Gets hot' }, 'May': { score: 7, demand: 'normal', reasoning: 'Too hot for beaches' }, 'Jun': { score: 4, demand: 'low', reasoning: 'Monsoon begins' }, 'Jul': { score: 3, demand: 'very-low', reasoning: 'Heavy monsoon' }, 'Aug': { score: 4, demand: 'low', reasoning: 'Monsoon continues' }, 'Sep': { score: 8, demand: 'normal', reasoning: 'Monsoon retreats' }, 'Oct': { score: 12, demand: 'high', reasoning: 'Festival season' }, 'Nov': { score: 14, demand: 'peak', reasoning: 'Peak beach season' }, 'Dec': { score: 15, demand: 'peak', reasoning: 'Christmas/New Year peak' } }
      },
      pilgrimage: {
        weekdays: { 'Monday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Tuesday': { demand: 'high', score: 10, multiplier: 1.1 }, 'Wednesday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Thursday': { demand: 'high', score: 10, multiplier: 1.1 }, 'Friday': { demand: 'high', score: 11, multiplier: 1.15 }, 'Saturday': { demand: 'peak', score: 13, multiplier: 1.25 }, 'Sunday': { demand: 'peak', score: 12, multiplier: 1.2 } },
        months: { 'Jan': { score: 11, demand: 'high', reasoning: 'Makar Sankranti' }, 'Feb': { score: 9, demand: 'normal', reasoning: 'Moderate season' }, 'Mar': { score: 12, demand: 'high', reasoning: 'Maha Shivaratri, Holi' }, 'Apr': { score: 10, demand: 'high', reasoning: 'Summer pilgrimages' }, 'May': { score: 8, demand: 'normal', reasoning: 'Hot, reduced footfall' }, 'Jun': { score: 5, demand: 'low', reasoning: 'Monsoon, least pilgrimages' }, 'Jul': { score: 9, demand: 'normal', reasoning: 'Shravan month' }, 'Aug': { score: 12, demand: 'high', reasoning: 'Shravan, Janmashtami' }, 'Sep': { score: 11, demand: 'high', reasoning: 'Pitru Paksha, Navratri prep' }, 'Oct': { score: 14, demand: 'peak', reasoning: 'Navratri, Dussehra' }, 'Nov': { score: 15, demand: 'peak', reasoning: 'Diwali, Kartik month' }, 'Dec': { score: 10, demand: 'high', reasoning: 'Winter pilgrimages' } }
      },
      wildlife: {
        weekdays: { 'Monday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Tuesday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Wednesday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Thursday': { demand: 'high', score: 10, multiplier: 1.05 }, 'Friday': { demand: 'high', score: 11, multiplier: 1.1 }, 'Saturday': { demand: 'peak', score: 13, multiplier: 1.25 }, 'Sunday': { demand: 'high', score: 11, multiplier: 1.15 } },
        months: { 'Jan': { score: 14, demand: 'peak', reasoning: 'Winter peak, best sightings' }, 'Feb': { score: 15, demand: 'peak', reasoning: 'Peak season continues' }, 'Mar': { score: 14, demand: 'peak', reasoning: 'Last of peak season' }, 'Apr': { score: 13, demand: 'peak', reasoning: 'Hot but good sightings' }, 'May': { score: 11, demand: 'high', reasoning: 'Very hot, water holes' }, 'Jun': { score: 2, demand: 'very-low', reasoning: 'Parks closed - monsoon' }, 'Jul': { score: 2, demand: 'very-low', reasoning: 'Parks closed' }, 'Aug': { score: 2, demand: 'very-low', reasoning: 'Parks closed' }, 'Sep': { score: 2, demand: 'very-low', reasoning: 'Parks closed' }, 'Oct': { score: 10, demand: 'high', reasoning: 'Parks reopen' }, 'Nov': { score: 13, demand: 'peak', reasoning: 'Peak season returns' }, 'Dec': { score: 14, demand: 'peak', reasoning: 'Christmas holidays' } }
      },
      heritage: {
        weekdays: { 'Monday': { demand: 'low', score: 7, multiplier: 0.9 }, 'Tuesday': { demand: 'low', score: 7, multiplier: 0.9 }, 'Wednesday': { demand: 'normal', score: 8, multiplier: 0.95 }, 'Thursday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Friday': { demand: 'high', score: 11, multiplier: 1.15 }, 'Saturday': { demand: 'peak', score: 13, multiplier: 1.3 }, 'Sunday': { demand: 'high', score: 11, multiplier: 1.1 } },
        months: { 'Jan': { score: 13, demand: 'peak', reasoning: 'Winter weddings, heritage tourism' }, 'Feb': { score: 12, demand: 'high', reasoning: 'Wedding season continues' }, 'Mar': { score: 11, demand: 'high', reasoning: 'Pre-summer heritage visits' }, 'Apr': { score: 9, demand: 'normal', reasoning: 'Gets hot' }, 'May': { score: 7, demand: 'normal', reasoning: 'Summer heat' }, 'Jun': { score: 5, demand: 'low', reasoning: 'Monsoon begins' }, 'Jul': { score: 5, demand: 'low', reasoning: 'Monsoon continues' }, 'Aug': { score: 6, demand: 'low', reasoning: 'Monsoon ends' }, 'Sep': { score: 9, demand: 'normal', reasoning: 'Post-monsoon' }, 'Oct': { score: 12, demand: 'high', reasoning: 'Diwali, festival weddings' }, 'Nov': { score: 14, demand: 'peak', reasoning: 'Peak wedding season' }, 'Dec': { score: 15, demand: 'peak', reasoning: 'Destination weddings peak' } }
      },
      budget: {
        weekdays: { 'Monday': { demand: 'normal', score: 9, multiplier: 0.98 }, 'Tuesday': { demand: 'normal', score: 9, multiplier: 0.98 }, 'Wednesday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Thursday': { demand: 'normal', score: 9, multiplier: 1.0 }, 'Friday': { demand: 'normal', score: 10, multiplier: 1.05 }, 'Saturday': { demand: 'high', score: 10, multiplier: 1.08 }, 'Sunday': { demand: 'high', score: 10, multiplier: 1.05 } },
        months: { 'Jan': { score: 10, demand: 'high', reasoning: 'Holiday overflow' }, 'Feb': { score: 9, demand: 'normal', reasoning: 'Base demand' }, 'Mar': { score: 11, demand: 'high', reasoning: 'Festival season' }, 'Apr': { score: 9, demand: 'normal', reasoning: 'Stable' }, 'May': { score: 8, demand: 'normal', reasoning: 'Summer dip' }, 'Jun': { score: 8, demand: 'normal', reasoning: 'Monsoon stability' }, 'Jul': { score: 9, demand: 'normal', reasoning: 'Consistent' }, 'Aug': { score: 9, demand: 'normal', reasoning: 'Steady' }, 'Sep': { score: 10, demand: 'high', reasoning: 'Festival season' }, 'Oct': { score: 12, demand: 'high', reasoning: 'Diwali peak' }, 'Nov': { score: 11, demand: 'high', reasoning: 'Wedding spillover' }, 'Dec': { score: 10, demand: 'high', reasoning: 'Holiday season' } }
      }
    };

    const hotelTypePatterns = {
      'business': 'metro_business', 'leisure': 'leisure', 'hillstation': 'hill_station',
      'beach': 'beach', 'pilgrimage': 'pilgrimage', 'wildlife': 'wildlife',
      'heritage': 'heritage', 'budget': 'budget'
    };

    // =============================================
    // LOAD DATA & INITIALIZE
    // =============================================
    let savedData = null;
    let pricingChart = null;

    document.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('rmsSetupData');
      if (!saved) {
        document.getElementById('noDataState').style.display = 'block';
        document.getElementById('resultsHeader').style.display = 'none';
        document.getElementById('summaryGrid').style.display = 'none';
        document.querySelectorAll('.action-card:not(#noDataState)').forEach(c => c.style.display = 'none');
        return;
      }
      savedData = JSON.parse(saved);
      generateAllResults();
    });

    function formatCurrency(amount) {
      return amount.toLocaleString('en-IN');
    }

    // =============================================
    // CARD INTERACTIONS
    // =============================================
    function toggleCard(cardId) {
      const card = document.getElementById(cardId);
      const body = card.querySelector('.action-card-body');
      card.classList.toggle('expanded');
      body.classList.toggle('collapsed');
    }

    function setStatus(cardKey, status, btn) {
      const toggle = btn.closest('.status-toggle');
      toggle.querySelectorAll('.status-btn').forEach(b => {
        b.classList.remove('doing', 'not-yet');
      });
      btn.classList.add(status);

      // Show nudge for "not yet"
      const nudge = document.getElementById(`nudge-${cardKey}`);
      if (nudge) {
        nudge.classList.toggle('show', status === 'not-yet');
      }
    }

    // =============================================
    // GENERATE ALL RESULTS
    // =============================================
    function generateAllResults() {
      const location = savedData.city ? `${savedData.city}, ${savedData.state}` : (savedData.state || 'Not specified');
      document.getElementById('propertyBadge').textContent = location;

      const roomTypes = savedData.roomTypes || [];
      const totalInventory = roomTypes.reduce((sum, rt) => sum + rt.count, 0);
      const prices = roomTypes.length > 0 ? roomTypes.map(rt => rt.basePrice) : [0];
      const baseRate = Math.min(...prices);
      const maxRate = Math.max(...prices);

      savedData.inventory = totalInventory;
      savedData.baseRate = baseRate;
      savedData.maxRate = maxRate;

      document.getElementById('sumInventory').textContent = totalInventory || '-';
      document.getElementById('sumBaseRate').textContent = baseRate ? `‚Çπ${formatCurrency(baseRate)}` : '-';
      document.getElementById('sumRoomTypes').textContent = roomTypes.length || '0';
      document.getElementById('sumSameDay').textContent = savedData.leadTime ? `${savedData.leadTime.lead0}%` : '-';

      generateOccupancyResults();
      generateOverbookingResults();
      generateInventoryResults();
      generateDemandResults();
      generateSpecialDatesResults();
      generateTimeResults();
      generateDestinationInsights();
    }

    // =============================================
    // HELPERS
    // =============================================
    function getDemandClass(score) {
      if (score >= 13) return 'peak';
      if (score >= 10) return 'high';
      if (score >= 7) return 'normal';
      if (score >= 4) return 'low';
      return 'very-low';
    }

    function getDemandLabel(score) {
      if (score >= 13) return 'Peak';
      if (score >= 10) return 'High';
      if (score >= 7) return 'Normal';
      if (score >= 4) return 'Low';
      return 'Very Low';
    }

    function getTravelerIcon(type) {
      const icons = { 'Business Travelers': 'üíº', 'Business & Government': 'üèõÔ∏è', 'Leisure Tourists': 'üèñÔ∏è', 'Medical Tourists': 'üè•', 'Entertainment Industry': 'üé¨', 'Leisure & Weddings': 'üíí', 'Heritage Tourists': 'üè∞', 'Wedding Groups': 'üíç', 'MICE & Events': 'üé™', 'Luxury Tourists': 'üëë', 'International Tourists': '‚úàÔ∏è', 'Day Trippers': 'üöå', 'Golden Triangle Tourists': 'üó∫Ô∏è', 'Family Vacationers': 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', 'Honeymooners': 'üíë', 'Corporate Groups': 'üëî', 'Adventure Tourists': 'üßó', 'Backpackers': 'üéí', 'Pilgrims': 'üôè', 'Spiritual Seekers': 'üïâÔ∏è', 'Cultural Tourists': 'üé≠', 'Yoga & Wellness': 'üßò', 'Spiritual Pilgrims': '‚õ©Ô∏è', 'Sikh Pilgrims': 'üèõÔ∏è', 'Domestic Tourists': 'üáÆüá≥', 'Yoga Students': 'üßò‚Äç‚ôÄÔ∏è', 'Dussehra Visitors': 'üéâ', 'Weekend Getaway': 'üåÖ', 'Nature Enthusiasts': 'üå≤', 'Weekend Tourists': 'üå¥', 'Heritage Enthusiasts': 'üìö', 'Spiritual Tourists': '‚ò∏Ô∏è', 'Weekend Warriors': 'üèÑ', 'Photographers': 'üì∑', 'Houseboat Tourists': '‚õµ', 'Ayurveda Seekers': 'üíÜ', 'Beach Lovers': 'üèùÔ∏è', 'Scuba Divers': 'ü§ø', 'Bikers & Road Trippers': 'üèçÔ∏è', 'Monastery Enthusiasts': 'üèØ', 'Adventure Travelers': '‚õ∞Ô∏è', 'Wildlife Enthusiasts': 'üêÖ', 'Luxury Travelers': 'üíé', 'Wildlife Photographers': 'üì∏', 'Bird Watchers': 'ü¶Ö', 'Tea Tourism': 'üçµ', 'School/College Groups': 'üéì', 'Remote Workers': 'üíª', 'Film Shootings': 'üé•', 'Cruise Tourists': 'üö¢', 'Education Related': 'üéì', 'MICE': 'üé™' };
      return icons[type] || 'üë§';
    }

    // =============================================
    // 1. OCCUPANCY-BASED PRICING
    // =============================================
    function generateOccupancyResults() {
      const inventory = parseInt(savedData.inventory) || 0;
      const baseRate = parseInt(savedData.baseRate) || 0;
      const userMaxRate = parseInt(savedData.maxRateInput) || 0;
      const maxRate = userMaxRate > baseRate ? userMaxRate : (parseInt(savedData.maxRate) || Math.round(baseRate * 1.5));

      if (!inventory || !baseRate) return;

      const inflectionPoint = Math.round(inventory * 0.65);
      const steepStart = Math.round(inventory * 0.80);
      const totalIncrease = maxRate - baseRate;

      const ratesData = [];
      for (let rooms = 0; rooms <= inventory; rooms++) {
        let rate;
        if (rooms <= inflectionPoint) {
          const flatProgress = rooms / inflectionPoint;
          rate = baseRate + (totalIncrease * 0.05 * flatProgress);
        } else if (rooms <= steepStart) {
          const transitionProgress = (rooms - inflectionPoint) / (steepStart - inflectionPoint);
          rate = baseRate + (totalIncrease * 0.05) + (totalIncrease * 0.15 * transitionProgress);
        } else {
          const steepProgress = (rooms - steepStart) / (inventory - steepStart);
          const exponentialFactor = Math.pow(steepProgress, 1.5);
          rate = baseRate + (totalIncrease * 0.20) + (totalIncrease * 0.80 * exponentialFactor);
        }
        rate = Math.min(rate, maxRate);
        ratesData.push({ occupancy: rooms, rate: Math.round(rate) });
      }

      const slabs = [
        { slabNumber: 1, start: 1, end: Math.round(inventory * 0.40), description: 'Low Demand - Base Rate', stepPerRoom: Math.round((totalIncrease * 0.02) / (inventory * 0.40)) },
        { slabNumber: 2, start: Math.round(inventory * 0.40) + 1, end: inflectionPoint, description: 'Building - Minimal Increase', stepPerRoom: Math.round((totalIncrease * 0.03) / (inflectionPoint - inventory * 0.40)) },
        { slabNumber: 3, start: inflectionPoint + 1, end: steepStart, description: 'Moderate - Steady Increase', stepPerRoom: Math.round((totalIncrease * 0.15) / (steepStart - inflectionPoint)) },
        { slabNumber: 4, start: steepStart + 1, end: Math.round(inventory * 0.90), description: 'High Demand - Steep Increase', stepPerRoom: Math.round((totalIncrease * 0.30) / (inventory * 0.10)) },
        { slabNumber: 5, start: Math.round(inventory * 0.90) + 1, end: inventory, description: 'Peak - Max Rate (‚Çπ' + formatCurrency(maxRate) + ')', stepPerRoom: Math.round((totalIncrease * 0.50) / (inventory * 0.10)) }
      ].filter(s => s.end >= s.start);

      slabs.forEach(slab => {
        slab.roomsInSlab = slab.end - slab.start + 1;
        slab.totalIncrease = slab.stepPerRoom * slab.roomsInSlab;
      });

      const tbody = document.querySelector('#slabsTable tbody');
      tbody.innerHTML = slabs.map(slab => `
        <tr>
          <td><span class="slab-badge slab-${slab.slabNumber}">Slab ${slab.slabNumber}</span></td>
          <td>${slab.start}</td><td>${slab.end}</td>
          <td>‚Çπ${formatCurrency(slab.totalIncrease)} <span style="color:#888;font-size:0.75em">(${slab.roomsInSlab} rooms)</span></td>
          <td>‚Çπ${slab.stepPerRoom}/room</td>
          <td>${slab.description}</td>
        </tr>
      `).join('');

      const ctx = document.getElementById('pricingChart').getContext('2d');
      if (pricingChart) pricingChart.destroy();
      pricingChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ratesData.map(d => d.occupancy),
          datasets: [{ label: 'Room Rate', data: ratesData.map(d => d.rate), borderColor: '#8B0000', backgroundColor: 'rgba(139, 0, 0, 0.1)', fill: true, tension: 0.4, pointRadius: 0, pointHoverRadius: 4, borderWidth: 2 }]
        },
        options: {
          responsive: true, maintainAspectRatio: false,
          plugins: { legend: { display: false }, tooltip: { callbacks: { label: (c) => `Rate: ‚Çπ${formatCurrency(c.parsed.y)}` } } },
          scales: { x: { title: { display: true, text: 'Rooms Sold' }, grid: { color: 'rgba(0,0,0,0.05)' } }, y: { title: { display: true, text: 'Room Rate (‚Çπ)' }, ticks: { callback: v => '‚Çπ' + v.toLocaleString() }, grid: { color: 'rgba(0,0,0,0.05)' }, beginAtZero: true } }
        }
      });
    }

    // =============================================
    // 2. OVERBOOKING (NEW)
    // =============================================
    function generateOverbookingResults() {
      const roomTypes = savedData.roomTypes || [];
      if (roomTypes.length < 2) {
        document.getElementById('overbookingSection').innerHTML = '<p style="color:#888;">Overbooking strategy requires at least 2 room types (a base category to overbook and a next-tier to upgrade into).</p>';
        return;
      }

      const sorted = [...roomTypes].sort((a, b) => a.basePrice - b.basePrice);
      const baseCategory = sorted[0];
      const upgradeCategory = sorted[1];
      const priceDiff = upgradeCategory.basePrice - baseCategory.basePrice;
      const priceDiffPercent = Math.round((priceDiff / baseCategory.basePrice) * 100);

      // Calculate recommended overbooking percentage based on hotel type
      let overbookPercent = 5; // default
      const hotelType = savedData.hotelType || '';
      if (hotelType === 'business') overbookPercent = 8;
      else if (hotelType === 'budget') overbookPercent = 10;
      else if (hotelType === 'pilgrimage') overbookPercent = 7;
      else if (hotelType === 'leisure' || hotelType === 'beach') overbookPercent = 5;
      else if (hotelType === 'wildlife' || hotelType === 'heritage') overbookPercent = 3;

      const overbookRooms = Math.max(1, Math.round(baseCategory.count * overbookPercent / 100));
      const potentialExtraRevenue = overbookRooms * baseCategory.basePrice * 30; // monthly

      let html = `
        <div class="overbook-grid">
          <div class="overbook-item">
            <div class="ob-value">${baseCategory.name}</div>
            <div class="ob-label">Base Category to Overbook</div>
          </div>
          <div class="overbook-item">
            <div class="ob-value">${overbookPercent}%</div>
            <div class="ob-label">Recommended Overbook Rate</div>
          </div>
          <div class="overbook-item">
            <div class="ob-value">${overbookRooms} rooms</div>
            <div class="ob-label">Extra Rooms to Sell</div>
          </div>
          <div class="overbook-item">
            <div class="ob-value">‚Çπ${formatCurrency(potentialExtraRevenue)}</div>
            <div class="ob-label">Potential Extra Revenue/Month</div>
          </div>
        </div>
        <div style="margin-top:1rem;padding:1rem;background:#f8f9fa;border-radius:8px;font-size:0.85rem;">
          <strong>How it works:</strong> Sell up to <strong>${baseCategory.count + overbookRooms}</strong> "${baseCategory.name}" rooms instead of ${baseCategory.count}.
          When overbooked, upgrade guests to "${upgradeCategory.name}" (‚Çπ${formatCurrency(upgradeCategory.basePrice)}, +${priceDiffPercent}% higher) at no extra charge.
          The guest gets a free upgrade, and you earn ‚Çπ${formatCurrency(baseCategory.basePrice)} for a room that would have otherwise been empty.
        </div>
      `;

      document.getElementById('overbookingSection').innerHTML = html;
    }

    // =============================================
    // 3. INVENTORY POOLING
    // =============================================
    function generateInventoryResults() {
      const roomTypes = savedData.roomTypes || [];
      if (roomTypes.length === 0) { document.getElementById('card-inventory').style.display = 'none'; return; }

      const sorted = [...roomTypes].sort((a, b) => a.basePrice - b.basePrice);
      const basePrice = sorted[0].basePrice;
      const totalRooms = roomTypes.reduce((sum, rt) => sum + rt.count, 0);

      const poolTypes = [];
      sorted.forEach((rt, index) => {
        const priceDiffPercent = basePrice > 0 ? Math.round(((rt.basePrice - basePrice) / basePrice) * 100) : 0;
        const inventoryPercent = Math.round((rt.count / totalRooms) * 100);
        let shouldInclude = false, reason = '';

        if (index === 0) { shouldInclude = true; reason = 'Base category - primary room type'; }
        else if (priceDiffPercent <= 15) { shouldInclude = true; reason = `Within ${priceDiffPercent}% of base price - ideal for pooling`; }
        else if (priceDiffPercent <= 25 && inventoryPercent >= 25) { shouldInclude = true; reason = `${priceDiffPercent}% price diff, but ${inventoryPercent}% of inventory - strategic pooling`; }
        else if (priceDiffPercent <= 30 && inventoryPercent >= 40) { shouldInclude = true; reason = `${priceDiffPercent}% price diff, but ${inventoryPercent}% of inventory - dominant category`; }
        else if (priceDiffPercent <= 30) { reason = `${priceDiffPercent}% price difference - may devalue if pooled`; }
        else { reason = `${priceDiffPercent}% premium - keep separate to protect value`; }

        rt.priceDiffPercent = priceDiffPercent;
        rt.inventoryPercent = inventoryPercent;
        rt.reason = reason;
        rt.inPool = shouldInclude;
        if (shouldInclude) poolTypes.push(rt);
      });

      const poolSize = poolTypes.reduce((sum, rt) => sum + rt.count, 0);

      if (poolTypes.length > 0) {
        let totalWeight = 0;
        poolTypes.forEach((rt, i) => { rt.weight = rt.count * (i === 0 ? 1.2 : 1.0); totalWeight += rt.weight; });
        poolTypes.forEach(rt => { rt.poolPercent = Math.round((rt.weight / totalWeight) * 100); rt.reallocatedCount = Math.round((rt.poolPercent / 100) * poolSize); });
        const allocated = poolTypes.reduce((sum, rt) => sum + rt.reallocatedCount, 0);
        if (allocated !== poolSize && poolTypes.length > 0) poolTypes[0].reallocatedCount += (poolSize - allocated);
      }

      sorted.forEach(rt => { if (!rt.inPool) { rt.poolPercent = 0; rt.reallocatedCount = 0; } });

      document.getElementById('poolSummary').innerHTML = `
        <div class="summary-card"><div class="value">${totalRooms}</div><div class="label">Total Rooms</div></div>
        <div class="summary-card"><div class="value">${poolSize}</div><div class="label">Pool Size</div></div>
        <div class="summary-card"><div class="value">${poolTypes.length}</div><div class="label">Types in Pool</div></div>
        <div class="summary-card"><div class="value">${totalRooms - poolSize}</div><div class="label">Protected</div></div>
      `;

      if (poolTypes.length >= 2) {
        const colors = ['#3E3D35', '#89826E', '#89826E', '#c2185b', '#4facfe'];
        document.getElementById('poolVisualization').innerHTML = `<div class="pool-viz">${poolTypes.map((t, i) => `<div class="pool-viz-segment" style="width:${t.poolPercent}%;background:${colors[i % colors.length]};">${t.name} (${t.poolPercent}%)</div>`).join('')}</div>`;
      }

      document.querySelector('#inventoryTable tbody').innerHTML = sorted.map(rt => `
        <tr>
          <td><strong>${rt.name}</strong></td><td>${rt.count}</td><td>‚Çπ${formatCurrency(rt.basePrice)}</td>
          <td>${rt.priceDiffPercent > 0 ? `+${rt.priceDiffPercent}%` : 'Base'}</td>
          <td><span class="badge ${rt.inPool ? 'badge-success' : 'badge-danger'}">${rt.inPool ? 'Yes' : 'No'}</span></td>
          <td>${rt.inPool ? rt.poolPercent + '%' : '-'}</td>
          <td>${rt.inPool ? rt.reallocatedCount : '-'}</td>
        </tr>
        <tr><td colspan="7" style="color:#666;font-size:0.8rem;padding-top:0;border-bottom:2px solid #eee;">${rt.reason}</td></tr>
      `).join('');
    }

    // =============================================
    // 4. DEMAND / WEEKDAY-SEASONAL
    // =============================================
    function generateDemandResults() {
      const patternKey = hotelTypePatterns[savedData.hotelType] || 'leisure';
      const pattern = demandPatterns[patternKey];
      if (!pattern) { document.getElementById('card-demand').style.display = 'none'; return; }

      // Update insight text
      let insightText = 'Charge different rates for high-demand vs low-demand days.';
      if (patternKey === 'metro_business') insightText = '<strong>Business pattern:</strong> Weekdays (Mon-Thu) have highest demand. Charge premium on weekdays, offer weekend deals.';
      else if (patternKey === 'leisure' || patternKey === 'hill_station' || patternKey === 'beach') insightText = '<strong>Leisure pattern:</strong> Weekends and holidays are peak. Apply weekend premiums and minimum-stay requirements for Fri-Sun.';
      else if (patternKey === 'pilgrimage') insightText = '<strong>Pilgrimage pattern:</strong> Demand spikes around religious festivals and auspicious dates. Monitor temple/event calendars for rate hikes.';
      else if (patternKey === 'wildlife') insightText = '<strong>Wildlife pattern:</strong> On-season (Oct-May) vs off-season (Jun-Sep closed). Maximize revenue during limited operating months.';
      document.getElementById('demandInsight').innerHTML = insightText;

      const weekdayTbody = document.querySelector('#weekdayTable tbody');
      let weekdayHtml = '';
      Object.entries(pattern.weekdays).forEach(([day, data]) => {
        const demandClass = `demand-${getDemandClass(data.score)}`;
        const scoreClass = getDemandClass(data.score);
        const multiplierText = data.multiplier >= 1 ? `+${Math.round((data.multiplier - 1) * 100)}%` : `${Math.round((data.multiplier - 1) * 100)}%`;
        weekdayHtml += `<tr><td>${day.substring(0, 3)}</td><td class="${demandClass}">${getDemandLabel(data.score)}</td><td><span class="score-badge ${scoreClass}">${data.score}/15</span></td><td>${multiplierText}</td></tr>`;
      });
      weekdayTbody.innerHTML = weekdayHtml;

      const monthGrid = document.getElementById('monthGrid');
      const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
      monthGrid.innerHTML = monthNames.map(month => {
        const d = pattern.months[month];
        return `<div class="month-item ${getDemandClass(d.score)}" title="${d.reasoning}"><div class="month-label">${month}</div><div class="month-score">${d.score}/15</div></div>`;
      }).join('');
    }

    // =============================================
    // 5. SPECIAL DATES & CALENDAR
    // =============================================
    function generateSpecialDatesResults() {
      const state = savedData.state || '';
      const allDates = CalendarData.getEventsForState(state);

      let longWeekendsHtml = '', eventsHtml = '';

      allDates.forEach(date => {
        const startDate = new Date(date.start);
        const endDate = new Date(date.end);
        const startDay = startDate.toLocaleDateString('en-IN', { weekday: 'short' });
        const endDay = endDate.toLocaleDateString('en-IN', { weekday: 'short' });

        let dateRange;
        if (startDate.toDateString() === endDate.toDateString()) {
          dateRange = `${startDay}, ${startDate.toLocaleDateString('en-IN', { day: 'numeric', month: 'short', year: 'numeric' })}`;
        } else {
          dateRange = `${startDay} ${startDate.toLocaleDateString('en-IN', { day: 'numeric', month: 'short' })} - ${endDay} ${endDate.toLocaleDateString('en-IN', { day: 'numeric', month: 'short', year: 'numeric' })}`;
        }

        const multiplierText = `+${Math.round((date.multiplier - 1) * 100)}%`;
        const itemClass = date.isLongWeekend ? 'long-weekend' : '';
        const weekendBadge = date.isLongWeekend ? `<span class="weekend-badge">${date.duration}D</span>` : '';

        const html = `<div class="date-item ${itemClass}"><div class="date-info"><div class="date-name">${date.name}${weekendBadge}</div><div class="date-range">${dateRange}</div>${date.strategy ? `<div class="date-strategy">${date.strategy}</div>` : ''}</div><div class="date-multiplier"><span class="score-badge high">${multiplierText}</span></div></div>`;

        if (date.isLongWeekend) longWeekendsHtml += html;
        else eventsHtml += html;
      });

      document.getElementById('longWeekendsList').innerHTML = longWeekendsHtml || '<p style="color:#888;text-align:center;padding:1.5rem;">No long weekends found</p>';
      document.getElementById('specialEventsList').innerHTML = eventsHtml || '<p style="color:#888;text-align:center;padding:1.5rem;">No special events found</p>';
      document.getElementById('datesCount').textContent = `${allDates.length} Events`;
    }

    // =============================================
    // 6. TIME-OF-DAY PRICING
    // =============================================
    function generateTimeResults() {
      const inventory = parseInt(savedData.inventory) || 24;
      const baseRate = parseInt(savedData.baseRate) || 3500;
      const leadTime = savedData.leadTime || {};
      const hourly = savedData.hourly || {};

      const sameDayPercent = parseInt(leadTime.lead0) || 37;
      const suggestions = [];

      const hourlyData = {
        '06:00': parseInt(hourly.hour6) || 0, '08:00': parseInt(hourly.hour8) || 0,
        '10:00': parseInt(hourly.hour10) || 0, '12:00': parseInt(hourly.hour12) || 0,
        '14:00': parseInt(hourly.hour14) || 0, '16:00': parseInt(hourly.hour16) || 0,
        '18:00': parseInt(hourly.hour18) || 0, '20:00': parseInt(hourly.hour20) || 0,
        '22:00': parseInt(hourly.hour22) || 0
      };

      if (sameDayPercent >= 10) {
        const morningOccThreshold = Math.round(inventory * 0.5);
        suggestions.push({ day: 'Today', time: '10:00 AM', condition: `Under ${Math.round(morningOccThreshold/inventory*100)}% full`, basePrice: baseRate, suggestedPrice: Math.round(baseRate * 0.95), discount: 5, type: 'discount', reasoning: 'Gentle discount to encourage early bookings' });
        suggestions.push({ day: 'Today', time: '12:00 PM', condition: 'Under 65% full', basePrice: baseRate, suggestedPrice: Math.round(baseRate * 0.92), discount: 8, type: 'discount', reasoning: 'Midday push as sellable window narrows' });
        suggestions.push({ day: 'Today', time: '3:00 PM', condition: 'Any empty rooms', basePrice: baseRate, suggestedPrice: Math.round(baseRate * 0.90), discount: 10, type: 'discount', reasoning: 'Afternoon discount as check-in time approaches' });
        suggestions.push({ day: 'Today', time: '6:00 PM', condition: 'Any empty rooms', basePrice: baseRate, suggestedPrice: Math.round(baseRate * 0.85), discount: 15, type: 'discount', reasoning: 'Evening clearance for walk-ins and last-minute' });
        if (hourlyData['20:00'] + hourlyData['22:00'] > 5) {
          suggestions.push({ day: 'Today', time: '8:00 PM', condition: 'Any empty rooms', basePrice: baseRate, suggestedPrice: Math.round(baseRate * 0.80), discount: 20, type: 'discount', reasoning: 'Max discount for late check-ins' });
        }
      }

      const tomorrowPercent = parseInt(leadTime.lead1) || 0;
      if (tomorrowPercent >= 8) {
        suggestions.push({ day: 'Tomorrow', time: '10:00 AM', condition: 'Under 40% booked', basePrice: baseRate, suggestedPrice: Math.round(baseRate * 0.95), discount: 5, type: 'discount', reasoning: 'Small discount if tomorrow looks weak' });
        suggestions.push({ day: 'Tomorrow', time: '6:00 PM', condition: 'Over 75% booked', basePrice: baseRate, suggestedPrice: Math.round(baseRate * 1.05), premium: 5, type: 'premium', reasoning: 'Capture urgency premium when nearly full' });
      }

      const discounts = suggestions.filter(s => s.type === 'discount');
      const premiums = suggestions.filter(s => s.type === 'premium');
      const maxDiscount = discounts.length > 0 ? Math.max(...discounts.map(s => s.discount)) : 0;

      document.getElementById('timeStats').innerHTML = `
        <div class="summary-card"><div class="value">${suggestions.length}</div><div class="label">Suggestions</div></div>
        <div class="summary-card"><div class="value">${discounts.length}</div><div class="label">Discounts</div></div>
        <div class="summary-card"><div class="value">${premiums.length}</div><div class="label">Premiums</div></div>
        <div class="summary-card"><div class="value">${maxDiscount}%</div><div class="label">Max Discount</div></div>
      `;

      let currentDay = '', tableHtml = '';
      suggestions.forEach(s => {
        if (s.day !== currentDay) { currentDay = s.day; tableHtml += `<tr class="section-row"><td colspan="7">${s.day}</td></tr>`; }
        const effectBadgeClass = s.type === 'discount' ? 'discount' : 'premium';
        const effectText = s.type === 'discount' ? `-${s.discount}%` : `+${s.premium}%`;
        const priceClass = s.type === 'discount' ? 'discount' : 'premium';
        tableHtml += `<tr><td>${s.day}</td><td>${s.time}</td><td>${s.condition}</td><td class="price-cell">‚Çπ${formatCurrency(s.basePrice)}</td><td class="price-cell ${priceClass}">‚Çπ${formatCurrency(s.suggestedPrice)}</td><td><span class="effect-badge ${effectBadgeClass}">${effectText}</span></td><td class="reasoning-cell">${s.reasoning}</td></tr>`;
      });
      document.querySelector('#suggestionsTable tbody').innerHTML = tableHtml;
    }

    // =============================================
    // DESTINATION INSIGHTS
    // =============================================
    function generateDestinationInsights() {
      const city = savedData.city || '';
      const state = savedData.state || '';
      const destination = destinationInsights[city];

      if (!destination) { document.getElementById('destinationInsights').style.display = 'none'; return; }

      document.getElementById('destinationInsights').style.display = 'block';

      document.getElementById('destinationContent').innerHTML = `
        <div class="destination-overview"><h4>${city}, ${state}</h4><p>${destination.overview}</p></div>
        <div class="famous-for"><h4>Famous For</h4><div class="famous-items">${destination.famousFor.map(item => `<span class="famous-item">${item}</span>`).join('')}</div></div>
        <div class="traveler-profiles">${destination.travelers.map(t => `
          <div class="traveler-card"><div class="icon">${getTravelerIcon(t.type)}</div><h5>${t.type}</h5><div class="percentage">${t.percentage}</div><div class="description">${t.description}</div>
          <div class="characteristics">${t.characteristics.map(c => `<div class="char-item">${c}</div>`).join('')}</div></div>`).join('')}</div>
        <div class="peak-seasons"><h4>Peak Booking Seasons</h4><div class="season-tags">${destination.peakSeasons.map(s => `<span class="season-tag">${s}</span>`).join('')}</div></div>
      `;
    }
  </script>

    <div class="prev-next-nav"></div>
    </div>
  </div>

  <script src="/tools/js/tool-nav.js"></script>
</body>
</html>
